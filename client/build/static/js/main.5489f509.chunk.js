(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(27),i=n.n(s),c=(n(35),n(36),n(5)),r=n(6),u=n(8),l=n(7),o=n(65),d=n(66),m=n(67),j=(n(37),n(0)),h=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:[Object(j.jsx)("div",{className:"navbar-brand",children:Object(j.jsx)("a",{className:"navbar-item",href:"/",children:Object(j.jsx)("img",{src:"notes-logo.jpg",width:"400",height:"50",alt:"logo"})})}),Object(j.jsxs)("div",{id:"navbarBasicExample",className:"navbar-menu",children:[Object(j.jsx)("div",{className:"navbar-start"}),Object(j.jsx)("div",{className:"navbar-end",children:Object(j.jsx)("div",{className:"navbar-item",children:Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)("a",{href:"/register",className:"button is-primary",children:Object(j.jsx)("strong",{children:"Sign up"})}),Object(j.jsx)("a",{href:"/login",className:"button is-light",children:"Log in"})]})})})]})]})}}]),n}(a.Component);function b(){return Object(j.jsx)("section",{className:"hero is-primary",children:Object(j.jsx)("div",{className:"hero-body",children:Object(j.jsx)("div",{className:"container",children:"Musician App"})})})}var p=n(10),O=n(9),v=n.n(O),f=n(12),x=n(14),N=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isEditMode:!1,updatedmusicianname:e.props.name},e.handleMusicianEdit=function(t){t.preventDefault(),e.setState({isEditMode:!0})},e.handleEditSave=function(t){t.preventDefault(),e.setState({isEditMode:!1}),e.props.handleUpdateMusician(e.props.id,e.state.updatedmusicianname)},e.onAddMusicianNameChange=function(t){return e.setState({updatedmusicianname:t.target.value})},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"box musician-card notification is-success",children:[this.props.isAdmin&&Object(j.jsx)(a.Fragment,{children:Object(j.jsx)("button",{onClick:function(t){return e.props.handleDeleteMusician(e.props.id,t)},className:"delete"})}),this.state.isEditMode?Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"Edit musician name"}),Object(j.jsx)("input",{className:"input is-medium",type:"text",placeholder:"Enter name",value:this.state.updatedmusicianname,onChange:this.onAddMusicianNameChange}),Object(j.jsxs)("p",{className:"musician-id",children:["id: ",this.props.id]}),Object(j.jsx)("button",{type:"submit",className:"button is-info is-small",onClick:this.handleEditSave,children:"save"})]}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{className:"musician-title",children:[this.props.firstname," ",this.props.lastname]}),Object(j.jsxs)("p",{className:"musician-id",children:["genre: ",this.props.genre]})]})]})}}]),n}(a.Component),g=n(15),w=n.n(g),M=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={newmusician:{firstName:"",lastName:"",genre:""},musicians:[]},e.outputHTML="",e.handleAddMusician=function(){var t=Object(x.a)(v.a.mark((function t(n,a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,w.a.put("/musician/".concat(n),e.state.newmusician);case 4:e.setState({musicians:[].concat(Object(f.a)(e.state.musicians),[e.state.newmusician])}),e.setState({newmusician:{firstName:"",lastName:"",genre:""}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}(),e.handleUpdateMusician=function(t,n){var a=Object(f.a)(e.state.musicians).find((function(e){return e.id===t})),s=Object(f.a)(e.state.musicians).filter((function(e){return e.id!==t}));a.musicianname=n,s.push(a),e.setState({musicians:s})},e.handleDeleteMusician=function(){var t=Object(x.a)(v.a.mark((function t(n,a){var s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,w.a.delete("/musician/".concat(n));case 4:return t.next=6,Object(f.a)(e.state.musicians).filter((function(e){return e.firstName.toLowerCase()!==n}));case 6:s=t.sent,e.setState({musicians:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}(),e.fetchMusicians=Object(x.a)(v.a.mark((function t(){var n,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.get("/musician/all");case 3:n=t.sent,a=Object.keys(n.data).map((function(e){return n.data[e]})),e.setState({musicians:Object(f.a)(a)}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.onAddMusicianFirstNameChange=function(t){return e.setState({newmusician:Object(p.a)(Object(p.a)({},e.state.newmusician),{},{firstName:t.target.value})})},e.onAddMusicianLastNameChange=function(t){return e.setState({newmusician:Object(p.a)(Object(p.a)({},e.state.newmusician),{},{lastName:t.target.value})})},e.onAddMusicianGenreChange=function(t){return e.setState({newmusician:Object(p.a)(Object(p.a)({},e.state.newmusician),{},{genre:t.target.value})})},e.componentDidMount=function(){e.fetchMusicians()},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(j.jsx)(a.Fragment,{children:Object(j.jsx)("section",{className:"section",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("p",{className:"subtitle is-5",children:"Add and remove musicians using the form below:"}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"columns",children:[Object(j.jsx)("div",{className:"column is-one-third",children:Object(j.jsxs)("form",{onSubmit:function(t){return e.handleAddMusician(e.state.newmusician.firstName.toLowerCase(),t)},children:[Object(j.jsx)("div",{className:"field",children:Object(j.jsx)("div",{className:"control",children:Object(j.jsx)("input",{className:"input is-medium",type:"text",placeholder:"Enter first name",value:this.state.newmusician.firstName,onChange:this.onAddMusicianFirstNameChange})})}),Object(j.jsx)("div",{className:"field",children:Object(j.jsx)("div",{className:"control",children:Object(j.jsx)("input",{className:"input is-medium",type:"text",placeholder:"Enter last name",value:this.state.newmusician.lastName,onChange:this.onAddMusicianLastNameChange})})}),Object(j.jsx)("div",{className:"field",children:Object(j.jsx)("div",{className:"control",children:Object(j.jsx)("input",{className:"input is-medium",type:"text",placeholder:"Enter genre",value:this.state.newmusician.genre,onChange:this.onAddMusicianGenreChange})})}),Object(j.jsx)("div",{className:"field",children:Object(j.jsx)("div",{className:"control",children:Object(j.jsx)("button",{type:"submit",className:"button is-primary is-medium",children:"Add musician"})})})]})}),Object(j.jsx)("div",{className:"column is-two-thirds",children:this.state.musicians.map((function(t,n){return Object(j.jsx)(N,{isAdmin:!0,handleUpdateMusician:e.handleUpdateMusician,handleDeleteMusician:e.handleDeleteMusician,firstname:t.firstName,lastname:t.lastName,genre:t.genre,id:t.firstName.toLowerCase(),index:n},t.lastName.toLowerCase())}))})]})]})})})}}]),n}(a.Component);function y(){return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(b,{}),Object(j.jsx)(M,{})]})}function C(){return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsx)("div",{className:"content has-text-centered",children:Object(j.jsx)("p",{children:"Musician App 2019. The source code is licensed MIT. The website content is licensed CC BY NC SA 4.0."})})})}var A=n(28),k=n(29);A.a.add(k.a);var S=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(o.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(h,{}),Object(j.jsx)(d.a,{children:Object(j.jsx)(m.a,{exact:!0,path:"/",component:y})}),Object(j.jsx)(C,{})]})})})}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(j.jsx)(S,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[62,1,2]]]);
//# sourceMappingURL=main.5489f509.chunk.js.map